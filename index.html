<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
  <script>
    //Q. Merge the code and form the final output ?
    // Algo:----
    // step-1 create a blank array.
    //  step-2 iterate a two loop one on users and second on  orders.
    // step-3 create a blank object inside that loop and get the keys like our output have.
    // step-4 make a condition if arr[i].id == arr[j].userId  then push the value of arr[j] in
    //  first blankobject.order.
    // step-5 push the value of blankobject in final array.

    const users = [
      {
        id: 1,
        name: "Ankit Jain",
      },
      {
        id: 2,
        name: "Shankar Sahu",
      },
      {
        id: 3,
        name: "Akash Kushwaha",
      },
    ];

    const orders = [
      {
        orderId: 101,
        userId: 1,
        productId: 123,
        productName: "Apple iPhone 14 Pro Max",
      },
      {
        orderId: 102,
        userId: 1,
        productId: 124,
        productName: "Apple MacBook Pro",
      },
      {
        orderId: 103,
        userId: 1,
        productId: 125,
        productName: "Apple iWatch 7 series",
      },
      {
        orderId: 104,
        userId: 2,
        productId: 126,
        productName: "Samsung S22",
      },
    ];
    //-----------------------------------------------------------------
    // const final = [
    //   {
    //   userId: 1,
    //     userName: "Ankit Jain",
    //     orders: [
    //       {
    //         orderId: 101,
    //         productId: 123,
    //         productName: "Apple iPhone 14 Pro Max",
    //       },
    //       {
    //         orderId: 102,
    //         productId: 124,
    //         productName: "Apple MacBook Pro",
    //       },
    //       {
    //         orderId: 103,
    //         productId: 125,
    //         productName: "Apple iWatch 7 series",
    //       },
    //     ],
    //   },
    //   {
    //     userId: 2,
    //     userName: "Shankar Sahu",
    //     orders: [
    //       {
    //         orderId: 104,
    //         userId: 2,
    //         productId: 126,
    //         productName: "Samsung S22",
    //       },
    //     ],
    //   },
    //   {
    //     userId: 3,
    //     userName: "Akash Kushwaha",
    //     orders: [],
    //   },
    // ];
    // --------------------------Solution-------------------------
    let final = [];
    for (let i = 0; i < users.length; i++) {
      let blankObj1 = {
        userId: users[i].id,
        userName: users[i].name,
        orders: [],
      };
      for (let j = 0; j < orders.length; j++) {
        let blankObj2 = {
          orderId: orders[j].orderId,
          productId: orders[j].productId,
          productName: orders[j].productName,
        };
        if (users[i].id == orders[j].userId) {
          blankObj1.orders.push(orders[j]);
        }
      }
      final.push(blankObj1);
    }
    console.log(final);

    //-----------------using reduce----------------------------

    
  </script>
</html>
